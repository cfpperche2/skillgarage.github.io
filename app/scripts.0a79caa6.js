/**
 * skill-garage - v1.0.0 - 2015-11-21
 * https://github.com/cfpperche
 *
 * Copyright (c) 2015 cfpperche <cfpperche@gmail.com>
 */
!function(a,b,c){"use strict";b.module("skillgarage",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ngRoute","ngMaterial","ui.router","angular-loading-bar","youtube-embed","slugifier","LocalStorageModule","ngMdIcons","app.core","app.rating","app.webapp"]),b.module("app.env",[]).constant("API",{name:"production",deploymentUUID:"9ada4f24-4e4f-4dda-8ee2-0c44bade5859",href:"http://127.0.0.1:8000/webapp/"}),b.module("app.core",["app.core.disqus","app.core.slides","app.core.youtube","app.core.gist"]),b.module("app.core").config(["cfpLoadingBarProvider",function(a){a.includeSpinner=!1}]),b.module("app.core").config(["$provide","$locationProvider",function(a,b){}]),b.module("app.core").config(["localStorageServiceProvider",function(a){a.setPrefix("skillg").setStorageCookie(45).setNotify(!0,!0)}]),b.module("app.core.disqus",[]).directive("appDisqusComments",["$window","$document",function(a,c){return{restrict:"E",scope:{disqus_shortname:"@disqusShortname",disqus_identifier:"@disqusIdentifier",disqus_title:"@disqusTitle",disqus_url:"@disqusUrl",disqus_category_id:"@disqusCategoryId",disqus_disable_mobile:"@disqusDisableMobile",disqus_config_language:"@disqusConfigLanguage",disqus_remote_auth_s3:"@disqusRemoteAuthS3",disqus_api_key:"@disqusApiKey",readyToBind:"@"},template:'<div id="disqus_thread" style="padding:10px"></div><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>',link:function(c,d,e){if("undefined"==typeof c.disqus_identifier||"undefined"==typeof c.disqus_url)throw"Please ensure that the `disqus-identifier` and `disqus-url` attributes are both set.";c.$watch("readyToBind",function(d){if(b.isDefined(d)||(d="true"),c.$eval(d))if(a.disqus_shortname=c.disqus_shortname,a.disqus_identifier=c.disqus_identifier,a.disqus_title=c.disqus_title,a.disqus_url=c.disqus_url,a.disqus_category_id=c.disqus_category_id,a.disqus_disable_mobile=c.disqus_disable_mobile,a.disqus_config=function(){this.language=c.disqus_config_language,this.page.remote_auth_s3=c.disqus_remote_auth_s3,this.page.api_key=c.disqus_api_key},a.DISQUS)a.DISQUS.reset({reload:!0,config:function(){this.forum=c.disqus_shortname,this.page.identifier=c.disqus_identifier,this.page.url=c.disqus_url,this.page.title=c.disqus_title,this.language=c.disqus_config_language,this.page.remote_auth_s3=c.disqus_remote_auth_s3,this.page.api_key=c.disqus_api_key}});else{var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+c.disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}})}}}]).directive("appDisqusCount",["$window",function(a){return{restrict:"E",replace:!1,scope:{disqus_shortname:"@disqusShortname",disqus_identifier:"@disqusIdentifier",disqus_title:"@disqusTitle",disqus_url:"@disqusUrl",readyToBind:"@"},template:'<span class="disqus-comment-count" data-disqus-url="{{disqus_url}}"></span>',link:function(a){if(a.dataUrl=a.disqus_shortname+".disqus.com","undefined"==typeof a.disqus_identifier||"undefined"==typeof a.disqus_url)throw"Please ensure that the `disqus-identifier` and `disqus-url` attributes are both set.";a.$watch("readyToBind",function(b){if(b){var c=document.createElement("script");c.async=!0,c.type="text/javascript",c.src="http://"+a.disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(c)}})}}}]),b.module("app.core.gist",["gist-embed"]).directive("appGist",["$window","$document","$sce",function(a,c,d){return{restrict:"E",scope:{gist:"@",readyToBind:"@"},link:function(a,c,d){if("undefined"==typeof a.gist)throw"Please ensure that the `gist` attribute is set.";a.$watch("readyToBind",function(d){if(b.isDefined(d)||(d="true"),a.$eval(d)){var e=$('<code data-gist-id="'+a.gist+'">');e.appendTo(c).gist()}})}}}]),b.module("app.core.slides",[]).directive("appGoogleSlides",["$window","$document","$sce",function(a,c,d){return{restrict:"E",scope:{slides_url:"@googleSlidesUrl",readyToBind:"@"},template:'<div flex layout="column"><iframe ng-src="{{slides_url_sce}}" class="embed-responsive-item" frameborder="0" scrolling="no" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe></div>',controllerAs:"ctrl",controller:["$scope",function(a){var c={autohide:2,autoplay:1,controls:1,loop:0,playlist:[]};b.extend(c,a.video_params),a.finalUrl=a.slides_url}],link:function(a,c,e){if("undefined"==typeof a.slides_url)throw"Please ensure that the `slides_url` attribute is set.";a.$watch("readyToBind",function(c){b.isDefined(c)||(c="true"),a.$eval(c)&&(a.slides_url_sce=d.trustAsResourceUrl(a.finalUrl))})}}}]),b.module("app.core").directive("stateReload",["$rootScope",function(a){return{restrict:"A",compile:function(b,c){b.removeAttr("reload-state data-reload-state"),b.on("click",function(b){a.$state.transitionTo(a.$state.current,a.$stateParams,{reload:!0,inherit:!1,notify:!0}),b.preventDefault()})}}}]),b.module("app.core.youtube",[]).directive("appYoutube",["$window","$document","$sce","localStorageService",function(a,c,d,e){return{restrict:"E",scope:{video:"=",readyToBind:"@"},template:'<div flex layout="column">        <youtube-video video-id="video_url"         player-vars="playerVars"        class = "embed-responsive-item"> </youtube-video>        </div>',controllerAs:"ctrl",controller:["$scope",function(a){a.video_url=a.video.video.url;var c={autohide:2,autoplay:1,controls:1,loop:0,playlist:[]};b.extend(c,a.video_params),a.playerVars=c,a.finalUrl="http://www.youtube.com/embed/"+a.video_url+"?autohide="+c.autohide+"&autoplay="+c.autoplay+"&controls="+c.controls+"&loop="+c.loop}],link:function(a,c,f,g,h){function i(a,b){return e.isSupported?e.set(a,b):void 0}if("undefined"==typeof a.video_url)throw"Please ensure that the `video_url` attribute is set.";a.$watch("readyToBind",function(c){b.isDefined(c)||(c="true"),a.$eval(c)&&(a.video_url_sce=d.trustAsResourceUrl(a.finalUrl))}),a.$on("youtube.player.ended",function(b,c){i(a.video.key,!0),a.video.completed=!0})}}}]),b.module("app.core").run(["$rootScope","$state","$stateParams",function(a,b,c){a.$state=b,a.$stateParams=c}]),b.module("app.core").run(["$rootScope","$window","$state","cfpLoadingBar",function(a,b,c,d){a.$on("$stateChangeStart",function(){}),a.$on("$stateChangeSuccess",function(){})}]),b.module("app.core").service("anchorSmoothScroll",["$document","$window",function(a,b){function c(a,b){return a.pageYOffset?a.pageYOffset:b.documentElement&&b.documentElement.scrollTop?b.documentElement.scrollTop:b.body.scrollTop?b.body.scrollTop:0}function d(a,b){for(var c=b.offsetTop,d=b;d.offsetParent&&d.offsetParent!=a.body;)d=d.offsetParent,c+=d.offsetTop;return c}var e=a[0],f=b;this.scrollDown=function(a,b,c,d){for(var e=0,f=Math.round(d/25),g=a+f,h=a;b>h;h+=f)setTimeout("window.scrollTo(0, "+g+")",e*c),g+=f,g>b&&(g=b),e++},this.scrollUp=function(a,b,c,d){for(var e=0,f=Math.round(d/25),g=a-f,h=a;h>b;h-=f)setTimeout("window.scrollTo(0, "+g+")",e*c),g-=f,b>g&&(g=b),e++},this.scrollTo=function(a,b){var g=e.getElementById(a);if(g){var h=c(f,e),i=d(e,g),j=i>h?i-h:h-i;if(i-=70,100>j)return void scrollTo(0,i);var k=Math.round(j/100);b=b||(k>20?20:k),i>h?this.scrollDown(h,i,b,j):this.scrollUp(h,i,b,j)}}}]),b.module("app.rating",[]),b.module("app.rating").directive("starRating",[function(){return{restrict:"E",template:'<ul class="star-rating" ng-class="{readonly: readonly}">        <li ng-repeat="star in stars" class="star" ng-class="{filled: star.filled}"        ng-click="toggle($index)">          <i class="fa fa-star"></i>        </li>        </ul>',scope:{ratingValue:"=ngModel",max:"=?",onRatingSelect:"&?",readonly:"=?"},controllerAs:"ctrl",controller:["$scope",function(a){}],link:function(a,b,d){function e(){a.stars=[];for(var b=0;b<a.max;b++)a.stars.push({filled:b<a.ratingValue})}a.max==c&&(a.max=5),a.toggle=function(b){(a.readonly==c||a.readonly===!1)&&(a.ratingValue=b+1,a.onRatingSelect({rating:b+1}))},a.$watch("ratingValue",function(a,b){b&&e()}),e()}}}]),b.module("app.webapp",[]),b.module("app.webapp").config(["$mdThemingProvider","$mdIconProvider",function(a,b){b.fontSet("fa","FontAwesome"),a.theme("default").primaryPalette("indigo").accentPalette("orange")}]),b.module("app.webapp").config(["$stateProvider","$urlRouterProvider",function(a,b){var c=a;c.state("webapp",{url:"/",controller:"WebappCtrl",templateUrl:"app/webapp/view/webapp.html"}),c.state("webapp.tutorials",{url:"tutorials/:category/",params:{category:{value:null}},views:{content:{controller:"TutorialsCtrl",templateUrl:"app/webapp/view/tutorials.html"}}}),c.state("webapp.tutorial",{url:":category/:tutorial/",params:{category:{value:null},tutorial:{value:null}},views:{content:{controller:"TutorialCtrl",templateUrl:"app/webapp/view/tutorial.html"}}}),c.state("webapp.about",{url:"about/",views:{content:{controller:"AboutCtrl",templateUrl:"app/webapp/view/about.html"}}}),c.state("webapp.404",{url:"404/",templateUrl:"app/webapp/views/404.html"}),b.otherwise("/")}]),b.module("app.webapp").controller("AboutCtrl",["$scope",function(a){}]),b.module("app.webapp").controller("TutorialCtrl",["$scope","$location","$window","$http","$state","$stateParams","$mdDialog","DialogSrv","Slug","localStorageService",function(a,c,d,e,f,g,h,i,j,k){var l="assets/api/"+g.tutorial+".json";e.get(l,{cache:!0}).then(function(c){a.tutorial=b.fromJson(c.data)},function(a){throw a}),a.chapters=[],a.projects=[],a.hangouts=[],a.resources={},a.selectedIndex=0,a.selectedTabOnChange=function(b){var c=a.tutorial.tabs.indexOf(b);a.selectedIndex=c},a.openDialog=function(a,b,c){var d={templateUrl:"app/webapp/template/dialog_google_slides.html"},e={templateUrl:"app/webapp/template/dialog_youtube.html"},f={templateUrl:"app/webapp/template/dialog_gist.html"},g={templateUrl:"app/webapp/template/dialog_disqus.html"};switch(a){case"slides":i.open(b,c,d);break;case"video":i.open(b,c,e);break;case"code":i.open(b,c,f);break;case"disqus":i.open(b,c,g);break;default:i.open(b,c)}return!0},a.getChapters=function(){e.get(a.tutorial.chaptersUrl,{cache:!0}).then(function(c){var d=b.fromJson(c.data),e=k.keys();b.forEach(d,function(a,c){a.id=c+1,a.rating=Math.round(5*Math.random()),b.forEach(a.chapters,function(c,d){a.allCompleted=c.completed=!1,b.forEach(e,function(b,d){b==c.key&&(a.allCompleted=c.completed=k.get(b))})})}),a.chapters=d},function(a){throw a})},a.getProjects=function(){e.get(a.tutorial.projectUrl,{cache:!0}).then(function(c){var d=b.fromJson(c.data);b.forEach(d,function(a,b){d[b].id=b+1,d[b].rating=Math.round(5*Math.random())}),a.projects=d},function(a){throw a})},a.getHangouts=function(){e.get(a.tutorial.hangoutsUrl,{cache:!0}).then(function(c){var d=b.fromJson(c.data);b.forEach(d,function(a,b){d[b].id=b+1}),a.hangouts=d},function(a){throw a})},a.getResources=function(){e.get(a.tutorial.resourcesUrl,{cache:!0}).then(function(c){var d=b.fromJson(c.data);a.resources=d,e.get(a.resources.technologiesUrl,{cache:!0}).then(function(c){var d=b.fromJson(c.data);a.resources.techItems=d})},function(a){throw a})},a.showTutorialChapter=function(c){a.chapter=a.chapters[c-1],b.isUndefined(a.chapter)&&f.reload();a.$watch("chapter",function(c,d){if(c!=d){var e=a.chapter.allCompleted;b.forEach(a.chapter.chapters,function(a,b){e=a.completed}),a.chapter.allCompleted=e}},!0);$("#webappbox").scrollTop(0)},a.showProject=function(c){a.project=a.projects[c-1],b.isUndefined(a.project)&&f.reload(),$("#webappbox").scrollTop(0)},a.showHangout=function(c){a.hangout=a.hangouts[c-1],b.isUndefined(a.hangout)&&f.reload(),$("#webappbox").scrollTop(0)},a.refreshStateParams=function(){var a={category:g.category,tutorial:g.tutorial};f.go(".",a,{notify:!1,reload:!1,location:"replace",inherit:!1})}}]),b.module("app.webapp").controller("TutorialsCtrl",["$scope","$http","$filter","$state","$stateParams","$mdBottomSheet",function(a,c,d,e,f,g){var h=this;h.tutorialsUrl="assets/api/tutorials_items.json",c.get(h.tutorialsUrl,{cache:!0}).then(function(c){var e=b.fromJson(c.data);"all"==f.category?a.tutorials=d("orderBy")(e,"label"):a.tutorials=d("filter")(e,f.category)},function(a){throw a}),a.goToTutorial=function(a,b){var c={category:f.category,tutorial:a};e.go("webapp.tutorial",c,{notify:!0,reload:!1,location:"replace",inherit:!0})}}]),b.module("app.webapp").controller("WebappCtrl",["$scope","$state","$stateParams","$timeout","$mdBottomSheet","$mdToast",function(a,b,c,d,e,f){a.showGridBottomSheet=function(c){a.alert="",e.show({templateUrl:"app/webapp/template/sheet_categories.html",controller:"GridBottomSheetCtrl",targetEvent:c}).then(function(a){b.go("webapp.tutorials",{category:a.name})})}}]).controller("GridBottomSheetCtrl",["$scope","$mdBottomSheet",function(a,b){a.items=[{name:"backend",label:"Backend",icon:"cloud_circle"},{name:"frontend",label:"Frontend",icon:"web"},{name:"database",label:"Database",icon:"storage"},{name:"mobile",label:"Mobile",icon:"phone_iphone"},{name:"game",label:"Game",icon:"games"},{name:"academic",label:"Academic",icon:"school"},{name:"all",label:"All",icon:"view_module"}],a.listItemClick=function(c){var d=a.items[c];b.hide(d)}}]),b.module("app.webapp").directive("appChapter",["$parse",function(a){return{restrict:"E",templateUrl:"app/webapp/template/show_chapter.html",scope:!0,controllerAs:"ctrl",controller:["$scope",function(a){a.rateFunction=function(a){console.log("Rating selected: "+a)}}],compile:function(a,b,c){return{pre:function(a,b,c,d,e){},post:function(a,b,c,d,e){}}}}}]),b.module("app.webapp").directive("appHangout",["$parse",function(a){return{restrict:"E",templateUrl:"app/webapp/template/show_hangout.html",scope:!0,controllerAs:"ctrl",controller:["$scope",function(a){a.rateFunction=function(a){console.log("Rating selected: "+a)}}],compile:function(a,b,c){return{pre:function(a,b,c,d,e){},post:function(a,b,c,d,e){}}}}}]),b.module("app.webapp").directive("appProject",["$parse",function(a){return{restrict:"E",templateUrl:"app/webapp/template/show_project.html",scope:!0,controllerAs:"ctrl",controller:["$scope",function(a){a.rateFunction=function(a){console.log("Rating selected: "+a)}}],compile:function(a,b,c){return{pre:function(a,b,c,d,e){},post:function(a,b,c,d,e){}}}}}]),b.module("app.webapp").directive("appTechnologies",[function(){return{templateUrl:"app/webapp/template/technologies.html",restrict:"E",link:function(a,b,c){}}}]),b.module("app.webapp").directive("appTutorialTabs",["$compile","$http","$stateParams",function(a,b,c){return{restrict:"E",template:"<h1>{{tab}}</h1>",controllerAs:"ctrl",controller:["$scope",function(a){}],link:function(b,c,d,e,f){switch(b.tab=d.tab,b.tab){case"tutorial":c.html('<div display="flex" grow="1" ng-include="\'app/webapp/template/tab_tutorial.html\'"></div>'),b.getChapters();break;case"project":c.html('<div display="flex" grow="1" ng-include="\'app/webapp/template/tab_project.html\'"></div>'),b.getProjects();break;case"hangouts":c.html('<div display="flex" grow="1" ng-include="\'app/webapp/template/tab_hangouts.html\'"></div>'),b.getHangouts();break;case"resources":c.html('<div display="flex" grow="1" ng-include="\'app/webapp/template/tab_resources.html\'"></div>'),b.getResources()}a(c.contents())(b)}}}]),b.module("app.webapp").factory("DialogSrv",["$rootScope","$mdDialog","$document",function(a,c,d){function e(d,e,f,g){var h={templateUrl:null};b.extend(h,f);var i=a.$new();i.target&&delete i.target,i.target=e,c.show({templateUrl:h.templateUrl,parent:b.element(document.body),targetEvent:d,locals:{target:i.target,contentLoaded:!0},bindToController:!0,controllerAs:"ctrl",controller:["$scope","$mdDialog","target","contentLoaded",function(a,b,c,d){a.target=c,a.contentLoaded=d,a.cancel=function(){b.cancel()}}]})}return{open:e}}])}(window,window.angular);